<h2 class="text-center">Настройка уведомлений</h2>
<form [formGroup]="form" (ngSubmit)="SubmitForm()">
  <div class="container" style="margin-top: 50px; max-height: 500px; overflow: scroll;">
    <table class="table table-striped table-bordered">
      <thead>
      <tr>
        <th class="text-center">Название уведомления</th>
        <th class="text-center">Время уведомления</th>
        <th class="text-center">Заголовок уведомления</th>
        <th class="text-center">Текст уведомления</th>
        <th class="text-center">Операции</th>
      </tr>
      </thead>
      <tbody formArrayName="records">
      <tr class="elements" *ngFor="let control of formControls; let idx = index" [formGroupName]="idx">
<!--        *ngIf="form.get('records')['controls'][idx].value.id !== 'REMOVE'"-->
        <td *ngIf="form.get('records')['controls'][idx].value.name !== '--REMOVE'" >
          <input type="text" formControlName="name"></td>
        <td *ngIf="form.get('records')['controls'][idx].value.name !== '--REMOVE'" ><input matInput type="datetime-local" placeholder="" formControlName="time"></td>
        <td *ngIf="form.get('records')['controls'][idx].value.name !== '--REMOVE'" ><input type="text" formControlName="header"></td>
        <td *ngIf="form.get('records')['controls'][idx].value.name !== '--REMOVE'" ><textarea name="comment" cols="40" rows="3" formControlName="text"></textarea></td>
        <th *ngIf="form.get('records')['controls'][idx].value.name !== '--REMOVE'" >
          <button mat-button type="button" class="ml-2" [ngStyle]="{backgroundColor:'#d0282e', color: 'white'}"
                  (click)="removeControl(idx)">Удалить
          </button>
        </th>
      </tr>
      </tbody>
    </table>
  </div>

  <div class="container" style="position: relative">
    <div class="right-align" style="position: absolute">
      <button mat-raised-button color="primary" type="button" (click)="addNotify();" class="button-add-notification">Добавить еще уведомление</button>
    </div>
  </div>
  <div class="text-center">
    <button type="submit" class="btn btn-primary justify-content-center mt-2" [disabled]=" form.invalid" >Сохранить</button>
  </div>
</form>
{{form.value | json}}
